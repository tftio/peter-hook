## Installation
- Download the asset for your platform from this release.
- Extract the archive (tar.gz or zip), then move the `peter-hook` binary into a directory on your `PATH` (e.g., `/usr/local/bin`) and make it executable.

Examples:
```bash
# macOS/Linux (tar.gz)
tar -xzf peter-hook-*.tar.gz
chmod +x peter-hook
sudo mv peter-hook /usr/local/bin/

# Windows (zip)
Expand-Archive peter-hook-*.zip -DestinationPath .
# Ensure the directory is on your PATH
```

## Assets
Built binaries are provided for:
- x86_64-unknown-linux-gnu
- aarch64-unknown-linux-gnu
- x86_64-apple-darwin
- aarch64-apple-darwin
- x86_64-pc-windows-msvc

## Checksums
Verify downloads with SHA-256:
```bash
# Linux
sha256sum -c peter-hook-*.sha256
# macOS
shasum -a 256 -c peter-hook-*.sha256
```

## Usage Examples (Changed Files)
These variables are available when running with `--files`:
- `CHANGED_FILES`: space-delimited paths
- `CHANGED_FILES_LIST`: newline-delimited paths
- `CHANGED_FILES_FILE`: path to a temp file containing the newline list

Run linter on all files at once:
```toml
[hooks.ruff]
command = ["bash","-lc","ruff check --force-exclude -- ${CHANGED_FILES}"]
modifies_repository = false
files = ["**/*.py"]
```

Run per file (POSIX shell):
```toml
[hooks.eslint-fix]
command = ["bash","-lc","while IFS= read -r f; do eslint --fix -- \"$f\"; done < \"$CHANGED_FILES_FILE\""]
modifies_repository = true
files = ["**/*.{js,ts,jsx,tsx}"]
```

Windows (PowerShell) per file:
```toml
[hooks.eslint-windows]
command = ["powershell","-NoProfile","-Command","Get-Content $env:CHANGED_FILES_FILE | ForEach-Object { eslint --fix -- $_ }"]
modifies_repository = true
files = ["**/*.{js,ts,jsx,tsx}"]
```

## Compatibility
- No breaking changes.
- Variables populate only when `--files` is used; otherwise they are empty (and `CHANGED_FILES_FILE` is an empty string).
- On Windows, prefer `CHANGED_FILES_FILE` to avoid command-line length limits.

## Known Limitation
- `pre-push` currently diffâ€™s against `origin/main`. Automatic default branch detection is planned.

## Changes
- Compare: https://github.com/workhelix/peter-hook/compare/v0.2.9...v0.3.0
